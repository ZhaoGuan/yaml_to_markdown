(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-043fd02b"],{"8ab2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"","on-change":e.uploadChange,"auto-upload":!1,limit:1}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[e._v("选择需要解析的YAML文件")])],1)],1),a("el-form",{attrs:{model:e.DataForm,rules:e.rules}},[a("el-form-item",{attrs:{prop:"Desc"}},[a("div",[e._v("用例描述")]),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},model:{value:e.DataForm.Desc,callback:function(t){e.$set(e.DataForm,"Desc",t)},expression:"DataForm.Desc"}})],1),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"预制条件"},nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null}},model:{value:e.tempPreCondition,callback:function(t){e.tempPreCondition=t},expression:"tempPreCondition"}}),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(t){return e.addPreCondition()}}}),a("el-table",{attrs:{data:e.DataForm.PreCondition}},[a("el-table-column",{attrs:{label:"预制条件"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-delete"},on:{click:function(t){return e.delPreCondition(n)}}})]}}])})],1),a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.CreateTestPlant}},[e._v(" 新增测试计划内容 ")]),a("el-table",{attrs:{data:e.DataForm.TestPlant}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-table",{attrs:{"label-position":"left",data:n.CheckPoint.cases}},[a("el-table-column",{attrs:{label:"用例内容"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.case.action))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"预期"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.case.assert))])]}}],null,!0)})],1)]}}])}),a("el-table-column",{attrs:{label:"等级"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.CheckPoint.level))])]}}])}),a("el-table-column",{attrs:{label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.CheckPoint.desc))])]}}])}),a("el-table-column",{attrs:{label:"元素名称"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.CheckPoint.element))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-delete"},on:{click:function(t){return e.delTestPlant(n)}}})]}}])})],1)],1),a("div",[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.CreateLog}},[e._v(" 新增变更日志 ")]),a("el-table",{attrs:{data:e.DataForm.ChangeLog}},[a("el-table-column",{attrs:{label:"版本号"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.version))])]}}])}),a("el-table-column",{attrs:{label:"变更信息"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.message))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-delete"},on:{click:function(t){return e.delChangeLog(n)}}})]}}])})],1)],1),a("div",[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.CreateStory}},[e._v(" 需求记录 ")]),a("el-table",{attrs:{data:e.DataForm.Story}},[a("el-table-column",{attrs:{label:"需求描述"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.name))])]}}])}),a("el-table-column",{attrs:{label:"需求连接"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[a("a",[e._v(e._s(n.link))])])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-delete"},on:{click:function(t){return e.delStory(n)}}})]}}])})],1)],1),a("div",[a("el-form-item",{attrs:{prop:"FileName"}},[a("el-aside",[e._v("用例文件名称:")]),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},model:{value:e.DataForm.FileName,callback:function(t){e.$set(e.DataForm,"FileName",t)},expression:"DataForm.FileName"}}),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"warning",icon:"el-icon-check"},on:{click:function(t){return e.createYaml()}}},[e._v("生成YAML用例文件 ")])],1)],1)],1),a("el-dialog",{attrs:{title:"Test Plant",visible:e.dialogTestPlant},on:{"update:visible":function(t){e.dialogTestPlant=t}}},[a("el-form",{ref:"form",attrs:{model:e.TempTestPlant,rules:e.TestPlantRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"等级"}},[a("el-select",{attrs:{placeholder:"请选择元素名称"},model:{value:e.TempTestPlant.level,callback:function(t){e.$set(e.TempTestPlant,"level",t)},expression:"TempTestPlant.level"}},e._l(e.levelList,(function(e){return a("el-option",{attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"用例描述",prop:"desc"}},[a("el-input",{model:{value:e.TempTestPlant.desc,callback:function(t){e.$set(e.TempTestPlant,"desc",t)},expression:"TempTestPlant.desc"}})],1),a("el-form-item",{attrs:{label:"元素名称",prop:"element"}},[a("el-select",{attrs:{placeholder:"请选择元素名称"},on:{change:e.updateAttrList},model:{value:e.TempTestPlant.element,callback:function(t){e.$set(e.TempTestPlant,"element",t)},expression:"TempTestPlant.element"}},e._l(e.elementList,(function(e){return a("el-option",{attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"属性"}},e._l(e.cases,(function(t){return a("div",[a("div",[e._v(e._s(t.case.action))]),a("el-input",{model:{value:t.case.assert,callback:function(a){e.$set(t.case,"assert",a)},expression:"input.case.assert"}})],1)})),0),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(t){return e.saveTempTestPlant()}}},[e._v(" 保存内容 ")])],1)],1),a("el-dialog",{attrs:{title:"Change Log",visible:e.dialogLog},on:{"update:visible":function(t){e.dialogLog=t}}},[a("el-form",{ref:"form",attrs:{model:e.TempChangeLog,rules:e.ChangeLogRules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"version"}},[a("a",[e._v("请输入版本号")]),a("el-input",{model:{value:e.TempChangeLog.version,callback:function(t){e.$set(e.TempChangeLog,"version",t)},expression:"TempChangeLog.version"}})],1),a("el-form-item",{attrs:{prop:"message"}},[a("a",[e._v("请输入版本变更记录内容")]),a("el-input",{model:{value:e.TempChangeLog.message,callback:function(t){e.$set(e.TempChangeLog,"message",t)},expression:"TempChangeLog.message"}})],1)],1),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(t){return e.saveTempChangeLog()}}},[e._v(" 保存内容 ")])],1),a("el-dialog",{attrs:{title:"Story",visible:e.dialogStory},on:{"update:visible":function(t){e.dialogStory=t}}},[a("el-form",{ref:"form",attrs:{model:e.TempStory,rules:e.StoryRules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"name"}},[a("a",[e._v("请输入需求描述")]),a("el-input",{model:{value:e.TempStory.name,callback:function(t){e.$set(e.TempStory,"name",t)},expression:"TempStory.name"}})],1),a("el-form-item",{attrs:{prop:"link"}},[a("a",[e._v("请输入需求链接")]),a("el-input",{model:{value:e.TempStory.link,callback:function(t){e.$set(e.TempStory,"link",t)},expression:"TempStory.link"}})],1)],1),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(t){return e.saveStory()}}},[e._v(" 保存内容 ")])],1)],1)},l=[],i=(a("c975"),a("fb6a"),a("a434"),a("ace4"),a("b0c0"),a("d3b7"),a("3ca3"),a("9911"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("ddb0"),a("2b3d"),a("b09f")),o={created:function(){var e=this;Object(i["e"])().then((function(t){var a=t.data;for(var n in a)if(a.hasOwnProperty(n))for(var l in e.elementList.push({name:a[n].name,value:a[n].name}),e.attrListSelect[a[n].name]=[],a[n].attribute_list)a[n].attribute_list.hasOwnProperty(l)&&e.attrListSelect[a[n].name].push({case:{action:a[n].attribute_list[l]["info"],assert:""}})}))},data:function(){return{dialogTestPlant:!1,dialogLog:!1,dialogStory:!1,DataForm:{FileName:void 0,Desc:void 0,PreCondition:[],TestPlant:[],ChangeLog:[],Story:[],RelatedModule:[]},tempPreCondition:void 0,TempTestPlant:{level:"P0",desc:void 0,element:void 0,cases:[]},TempChangeLog:{version:void 0,message:void 0},temp:{desc:void 0,level:"P0",case:void 0,action:void 0},TempStory:{name:void 0,link:void 0},levelList:["P0","P1","P2","P3"],elementList:[],cases:[],attrListSelect:{},rules:{Desc:[{required:!0,message:"请输入用例描述",trigger:"blur"}],FileName:[{required:!0,message:"请输入用例文件名称",trigger:"blur"}]},TestPlantRules:{desc:[{required:!0,message:"请输入用例描述",trigger:"blur"}],element:[{required:!0,message:"请选择元素",trigger:"change"}]},ChangeLogRules:{version:[{required:!0,message:"请填写版本号",trigger:"blur"}],message:[{required:!0,message:"请输入对应修改信息",trigger:"blur"}]},StoryRules:{name:[{required:!0,message:"请出入需求名称",trigger:"blur"}],link:[{required:!0,message:"请填写需求链接",trigger:"blur"}]}}},methods:{CreateTestPlant:function(){this.dialogTestPlant=!0},CreateLog:function(){this.dialogLog=!0},CreateStory:function(){this.dialogStory=!0},addPreCondition:function(){null!=this.tempPreCondition&&this.DataForm.PreCondition.push(this.tempPreCondition),this.tempPreCondition=void 0},delPreCondition:function(e){var t=this.DataForm.PreCondition,a=t.indexOf(e);t.splice(a,1)},updateAttrList:function(e){this.cases=this.attrListSelect[e]},saveTempTestPlant:function(){for(var e in this.cases)if(this.cases.hasOwnProperty(e)&&""===this.cases[e].case.assert)return void alert(this.cases[e].case.action+"没有填写具体内容");this.TempTestPlant.cases=this.cases,this.cases=[],this.DataForm.TestPlant.push({CheckPoint:this.TempTestPlant}),this.TempTestPlant={level:"P0",desc:void 0,element:void 0,cases:[]},this.dialogTestPlant=!1},delTestPlant:function(e){var t=this.DataForm.TestPlant,a=t.indexOf(e);t.splice(a,1)},saveTempChangeLog:function(){void 0!==this.TempChangeLog.version&&void 0!==this.TempChangeLog.message?(this.DataForm.ChangeLog.push(this.TempChangeLog),this.TempChangeLog={version:void 0,message:void 0},this.dialogLog=!1):alert("请完成填写内容！")},delChangeLog:function(e){var t=this.DataForm.ChangeLog,a=t.indexOf(e);t.splice(a,1)},saveStory:function(){void 0!==this.TempStory.name&&void 0!==this.TempStory.link?(this.DataForm.Story.push(this.TempStory),this.TempStory={name:void 0,link:void 0},this.dialogStory=!1):alert("请完成填写内容！")},delStory:function(e){var t=this.DataForm.Story,a=t.indexOf(e);t.splice(a,1)},uploadChange:function(e){var t=a("651e"),n=new FileReader;function l(e){var a=new Uint8Array(e.target.result);a=a.slice(0,5e3);var n=new TextDecoder("utf-8").decode(a),l=t.load(n);this.DataForm.Desc=l.Desc,this.DataForm.Story=l.Story,this.DataForm.ChangeLog=l.ChangeLog,this.DataForm.TestPlant=l.TestPlan,this.DataForm.PreCondition=l.PreCondition}"undefined"!==typeof FileReader?(n.readAsArrayBuffer(e.raw),n.onload=l.bind(this)):this.$message({type:"info",message:"您的浏览器不支持文件读取。"})},createYaml:function(){if(void 0!==this.DataForm.Desc&&void 0!==this.DataForm.FileName){var e=this.DataForm,t=a("651e"),n=t.dump(e),l=new Blob([n]),i=window.URL||window.webkitURL||window,o=i.createObjectURL(l),r=document.createElement("a");r.href=o,r.download=this.DataForm.FileName+".yml",r.click(),i.revokeObjectURL(o)}else alert("用例描述或者用例文件名称未填写!")}}},r=o,s=a("2877"),c=Object(s["a"])(r,n,l,!1,null,null,null);t["default"]=c.exports},b09f:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return u}));var n=a("b775"),l="http://0.0.0.0:8000";function i(e){return Object(n["a"])({url:l+"/to_yaml/add_attribute",method:"post",data:e})}function o(){return Object(n["a"])({url:l+"/to_yaml/get_attributes",method:"get"})}function r(e){return Object(n["a"])({url:l+"/to_yaml/del_attributes?info="+e,method:"get"})}function s(e){return Object(n["a"])({url:l+"/to_yaml/create_element",method:"post",data:e})}function c(){return Object(n["a"])({url:l+"/to_yaml/get_elements_info",method:"get"})}function u(e){return Object(n["a"])({url:l+"/to_yaml/del_element?id="+e,method:"get"})}}}]);